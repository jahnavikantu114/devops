yum install ansible-core* -y
cd /etc/ansible/ansible.cfg
if it is not available then vim ansible.cfg

vim hosts
[dev-server]
ip address
ssh keygen and paste in nodes
cd /etc/ansible/
ansible all --list-hosts

vim users.yaml
---
- name: create multiple users
  hosts: all
  tasks:
    - name: create multiple users
      user:
        name: "{{ item }}"
        state: present
      with_items:
        - jahnavi
        - dracula
        - ironman
        - devops

ansible-playbook users.yaml --syntax-check
ansible-playbook users.yaml -C
ansible-playbook users.yaml


tail /etc/passwd

vim webserver.yaml
---
- name: configure a simple apache server
  hosts: all
  vars:
    - my_pkg: httpd
    - my_svc: httpd
    - destination: /var/www/html/index.html
    - my_content: "Apache servers using Ansible with deployment server"
    - rule: http
  tasks:
    - name: install my package
      yum:
        name: "{{ my_pkg }}"
        state: present
 
    - name: start my service
      service:
        name: "{{ my_svc }}"
        state: started
        enabled: true
 
    - name: create index.html file
      copy:
        content: "{{ my_content }}"
        dest: "{{ destination }}"

ansible-playbook webserver.yaml
